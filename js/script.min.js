export function iniciarSPA(){let e=document.querySelectorAll("nav a"),t=["index.html","projetos.html","cadastro.html"];e.forEach(e=>{e.addEventListener("click",r=>{let o=e.getAttribute("href");t.includes(o)&&(r.preventDefault(),carregarConteudo(o))})})}function carregarConteudo(e){fetch(e).then(e=>e.text()).then(e=>{let t=document.querySelector("main"),r=new DOMParser().parseFromString(e,"text/html"),o=r.querySelector("main");t&&o&&(t.innerHTML=o.innerHTML)}).catch(()=>alert("Erro ao carregar conte\xfado."))}export const usuarios=[{nome:"Maria",tipo:"volunt\xe1ria"},{nome:"Jo\xe3o",tipo:"doador"}];export function carregarUsuarios(){localStorage.setItem("usuarios",JSON.stringify(usuarios))}import{iniciarSPA}from"./spa.js";import{configurarValidacao}from"./formValidation.js";import{carregarUsuarios}from"./models.js";document.addEventListener("DOMContentLoaded",()=>{iniciarSPA(),configurarValidacao(),carregarUsuarios()});let botao=document.querySelector("#toggle-dark");botao.addEventListener("click",()=>{document.body.classList.toggle("dark-mode")});export function configurarValidacao(){let e=document.querySelector("form");e&&e.addEventListener("submit",t=>{t.preventDefault();let r=document.querySelector("#nome").value.trim(),o=document.querySelector("#email").value.trim(),a=document.querySelector("#cpf").value.trim(),i=document.querySelector("#telefone").value.trim(),n=[];r.length<3&&n.push("O nome deve ter pelo menos 3 caracteres."),o.includes("@")||n.push("E-mail inv\xe1lido."),/^\d{3}\.\d{3}\.\d{3}-\d{2}$/.test(a)||n.push("CPF inv\xe1lido."),/^\(\d{2}\)\s\d{5}-\d{4}$/.test(i)||n.push("Telefone inv\xe1lido.");let l=document.querySelector("#aviso")||document.createElement("p");l.id="aviso",l.style.color=n.length?"red":"green",l.textContent=n.length?n.join(" "):"Cadastro realizado com sucesso!",e.appendChild(l),0===n.length&&(salvarCadastro(),e.reset())})}function salvarCadastro(){let e={nome:document.querySelector("#nome").value,email:document.querySelector("#email").value,tipo:document.querySelector('input[name="tipo"]:checked').value},t=JSON.parse(localStorage.getItem("cadastros"))||[];t.push(e),localStorage.setItem("cadastros",JSON.stringify(t))}